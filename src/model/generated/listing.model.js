"use strict";
var __esDecorate = (this && this.__esDecorate) || function (ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {
    function accept(f) { if (f !== void 0 && typeof f !== "function") throw new TypeError("Function expected"); return f; }
    var kind = contextIn.kind, key = kind === "getter" ? "get" : kind === "setter" ? "set" : "value";
    var target = !descriptorIn && ctor ? contextIn["static"] ? ctor : ctor.prototype : null;
    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});
    var _, done = false;
    for (var i = decorators.length - 1; i >= 0; i--) {
        var context = {};
        for (var p in contextIn) context[p] = p === "access" ? {} : contextIn[p];
        for (var p in contextIn.access) context.access[p] = contextIn.access[p];
        context.addInitializer = function (f) { if (done) throw new TypeError("Cannot add initializers after decoration has completed"); extraInitializers.push(accept(f || null)); };
        var result = (0, decorators[i])(kind === "accessor" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);
        if (kind === "accessor") {
            if (result === void 0) continue;
            if (result === null || typeof result !== "object") throw new TypeError("Object expected");
            if (_ = accept(result.get)) descriptor.get = _;
            if (_ = accept(result.set)) descriptor.set = _;
            if (_ = accept(result.init)) initializers.unshift(_);
        }
        else if (_ = accept(result)) {
            if (kind === "field") initializers.unshift(_);
            else descriptor[key] = _;
        }
    }
    if (target) Object.defineProperty(target, contextIn.name, descriptor);
    done = true;
};
var __runInitializers = (this && this.__runInitializers) || function (thisArg, initializers, value) {
    var useValue = arguments.length > 2;
    for (var i = 0; i < initializers.length; i++) {
        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);
    }
    return useValue ? value : void 0;
};
var __setFunctionName = (this && this.__setFunctionName) || function (f, name, prefix) {
    if (typeof name === "symbol") name = name.description ? "[".concat(name.description, "]") : "";
    return Object.defineProperty(f, "name", { configurable: true, value: prefix ? "".concat(prefix, " ", name) : name });
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Listing = void 0;
var typeorm_store_1 = require("@subsquid/typeorm-store");
var account_model_1 = require("./account.model");
var token_model_1 = require("./token.model");
var _listingData_1 = require("./_listingData");
var _listingState_1 = require("./_listingState");
var bid_model_1 = require("./bid.model");
var listingStatus_model_1 = require("./listingStatus.model");
var listingSale_model_1 = require("./listingSale.model");
var counterOffer_model_1 = require("./counterOffer.model");
var whitelistedAccount_model_1 = require("./whitelistedAccount.model");
var Listing = function () {
    var _classDecorators = [(0, typeorm_store_1.Entity)()];
    var _classDescriptor;
    var _classExtraInitializers = [];
    var _classThis;
    var _id_decorators;
    var _id_initializers = [];
    var _id_extraInitializers = [];
    var _seller_decorators;
    var _seller_initializers = [];
    var _seller_extraInitializers = [];
    var _makeAssetId_decorators;
    var _makeAssetId_initializers = [];
    var _makeAssetId_extraInitializers = [];
    var _takeAssetId_decorators;
    var _takeAssetId_initializers = [];
    var _takeAssetId_extraInitializers = [];
    var _amount_decorators;
    var _amount_initializers = [];
    var _amount_extraInitializers = [];
    var _price_decorators;
    var _price_initializers = [];
    var _price_extraInitializers = [];
    var _minTakeValue_decorators;
    var _minTakeValue_initializers = [];
    var _minTakeValue_extraInitializers = [];
    var _feeSide_decorators;
    var _feeSide_initializers = [];
    var _feeSide_extraInitializers = [];
    var _height_decorators;
    var _height_initializers = [];
    var _height_extraInitializers = [];
    var _deposit_decorators;
    var _deposit_initializers = [];
    var _deposit_extraInitializers = [];
    var _salt_decorators;
    var _salt_initializers = [];
    var _salt_extraInitializers = [];
    var _data_decorators;
    var _data_initializers = [];
    var _data_extraInitializers = [];
    var _state_decorators;
    var _state_initializers = [];
    var _state_extraInitializers = [];
    var _startBlock_decorators;
    var _startBlock_initializers = [];
    var _startBlock_extraInitializers = [];
    var _creationBlock_decorators;
    var _creationBlock_initializers = [];
    var _creationBlock_extraInitializers = [];
    var _usesWhitelist_decorators;
    var _usesWhitelist_initializers = [];
    var _usesWhitelist_extraInitializers = [];
    var _bids_decorators;
    var _bids_initializers = [];
    var _bids_extraInitializers = [];
    var _status_decorators;
    var _status_initializers = [];
    var _status_extraInitializers = [];
    var _sales_decorators;
    var _sales_initializers = [];
    var _sales_extraInitializers = [];
    var _counterOffers_decorators;
    var _counterOffers_initializers = [];
    var _counterOffers_extraInitializers = [];
    var _whitelistedAccounts_decorators;
    var _whitelistedAccounts_initializers = [];
    var _whitelistedAccounts_extraInitializers = [];
    var _highestPrice_decorators;
    var _highestPrice_initializers = [];
    var _highestPrice_extraInitializers = [];
    var _deadListing_decorators;
    var _deadListing_initializers = [];
    var _deadListing_extraInitializers = [];
    var _isActive_decorators;
    var _isActive_initializers = [];
    var _isActive_extraInitializers = [];
    var _type_decorators;
    var _type_initializers = [];
    var _type_extraInitializers = [];
    var _hasRoyaltyIncreased_decorators;
    var _hasRoyaltyIncreased_initializers = [];
    var _hasRoyaltyIncreased_extraInitializers = [];
    var _createdAt_decorators;
    var _createdAt_initializers = [];
    var _createdAt_extraInitializers = [];
    var _updatedAt_decorators;
    var _updatedAt_initializers = [];
    var _updatedAt_extraInitializers = [];
    var Listing = _classThis = /** @class */ (function () {
        function Listing_1(props) {
            this.id = __runInitializers(this, _id_initializers, void 0);
            this.seller = (__runInitializers(this, _id_extraInitializers), __runInitializers(this, _seller_initializers, void 0));
            this.makeAssetId = (__runInitializers(this, _seller_extraInitializers), __runInitializers(this, _makeAssetId_initializers, void 0));
            this.takeAssetId = (__runInitializers(this, _makeAssetId_extraInitializers), __runInitializers(this, _takeAssetId_initializers, void 0));
            this.amount = (__runInitializers(this, _takeAssetId_extraInitializers), __runInitializers(this, _amount_initializers, void 0));
            this.price = (__runInitializers(this, _amount_extraInitializers), __runInitializers(this, _price_initializers, void 0));
            this.minTakeValue = (__runInitializers(this, _price_extraInitializers), __runInitializers(this, _minTakeValue_initializers, void 0));
            this.feeSide = (__runInitializers(this, _minTakeValue_extraInitializers), __runInitializers(this, _feeSide_initializers, void 0));
            this.height = (__runInitializers(this, _feeSide_extraInitializers), __runInitializers(this, _height_initializers, void 0));
            this.deposit = (__runInitializers(this, _height_extraInitializers), __runInitializers(this, _deposit_initializers, void 0));
            this.salt = (__runInitializers(this, _deposit_extraInitializers), __runInitializers(this, _salt_initializers, void 0));
            this.data = (__runInitializers(this, _salt_extraInitializers), __runInitializers(this, _data_initializers, void 0));
            this.state = (__runInitializers(this, _data_extraInitializers), __runInitializers(this, _state_initializers, void 0));
            this.startBlock = (__runInitializers(this, _state_extraInitializers), __runInitializers(this, _startBlock_initializers, void 0));
            this.creationBlock = (__runInitializers(this, _startBlock_extraInitializers), __runInitializers(this, _creationBlock_initializers, void 0));
            this.usesWhitelist = (__runInitializers(this, _creationBlock_extraInitializers), __runInitializers(this, _usesWhitelist_initializers, void 0));
            this.bids = (__runInitializers(this, _usesWhitelist_extraInitializers), __runInitializers(this, _bids_initializers, void 0));
            this.status = (__runInitializers(this, _bids_extraInitializers), __runInitializers(this, _status_initializers, void 0));
            this.sales = (__runInitializers(this, _status_extraInitializers), __runInitializers(this, _sales_initializers, void 0));
            this.counterOffers = (__runInitializers(this, _sales_extraInitializers), __runInitializers(this, _counterOffers_initializers, void 0));
            this.whitelistedAccounts = (__runInitializers(this, _counterOffers_extraInitializers), __runInitializers(this, _whitelistedAccounts_initializers, void 0));
            this.highestPrice = (__runInitializers(this, _whitelistedAccounts_extraInitializers), __runInitializers(this, _highestPrice_initializers, void 0));
            this.deadListing = (__runInitializers(this, _highestPrice_extraInitializers), __runInitializers(this, _deadListing_initializers, void 0));
            this.isActive = (__runInitializers(this, _deadListing_extraInitializers), __runInitializers(this, _isActive_initializers, void 0));
            this.type = (__runInitializers(this, _isActive_extraInitializers), __runInitializers(this, _type_initializers, void 0));
            this.hasRoyaltyIncreased = (__runInitializers(this, _type_extraInitializers), __runInitializers(this, _hasRoyaltyIncreased_initializers, void 0));
            this.createdAt = (__runInitializers(this, _hasRoyaltyIncreased_extraInitializers), __runInitializers(this, _createdAt_initializers, void 0));
            this.updatedAt = (__runInitializers(this, _createdAt_extraInitializers), __runInitializers(this, _updatedAt_initializers, void 0));
            __runInitializers(this, _updatedAt_extraInitializers);
            Object.assign(this, props);
        }
        return Listing_1;
    }());
    __setFunctionName(_classThis, "Listing");
    (function () {
        var _metadata = typeof Symbol === "function" && Symbol.metadata ? Object.create(null) : void 0;
        _id_decorators = [(0, typeorm_store_1.PrimaryColumn)()];
        _seller_decorators = [(0, typeorm_store_1.Index)(), (0, typeorm_store_1.ManyToOne)(function () { return account_model_1.Account; }, { nullable: true })];
        _makeAssetId_decorators = [(0, typeorm_store_1.Index)(), (0, typeorm_store_1.ManyToOne)(function () { return token_model_1.Token; }, { nullable: true })];
        _takeAssetId_decorators = [(0, typeorm_store_1.Index)(), (0, typeorm_store_1.ManyToOne)(function () { return token_model_1.Token; }, { nullable: true })];
        _amount_decorators = [(0, typeorm_store_1.BigIntColumn)({ nullable: false })];
        _price_decorators = [(0, typeorm_store_1.BigIntColumn)({ nullable: false })];
        _minTakeValue_decorators = [(0, typeorm_store_1.BigIntColumn)({ nullable: false })];
        _feeSide_decorators = [(0, typeorm_store_1.Column)("varchar", { length: 5, nullable: false })];
        _height_decorators = [(0, typeorm_store_1.IntColumn)({ nullable: false })];
        _deposit_decorators = [(0, typeorm_store_1.BigIntColumn)({ nullable: false })];
        _salt_decorators = [(0, typeorm_store_1.StringColumn)({ nullable: false })];
        _data_decorators = [(0, typeorm_store_1.Column)("jsonb", { transformer: { to: function (obj) { return obj.toJSON(); }, from: function (obj) { return obj == null ? undefined : (0, _listingData_1.fromJsonListingData)(obj); } }, nullable: false })];
        _state_decorators = [(0, typeorm_store_1.Column)("jsonb", { transformer: { to: function (obj) { return obj.toJSON(); }, from: function (obj) { return obj == null ? undefined : (0, _listingState_1.fromJsonListingState)(obj); } }, nullable: false })];
        _startBlock_decorators = [(0, typeorm_store_1.IntColumn)({ nullable: true })];
        _creationBlock_decorators = [(0, typeorm_store_1.IntColumn)({ nullable: false })];
        _usesWhitelist_decorators = [(0, typeorm_store_1.BooleanColumn)({ nullable: false })];
        _bids_decorators = [(0, typeorm_store_1.OneToMany)(function () { return bid_model_1.Bid; }, function (e) { return e.listing; })];
        _status_decorators = [(0, typeorm_store_1.OneToMany)(function () { return listingStatus_model_1.ListingStatus; }, function (e) { return e.listing; })];
        _sales_decorators = [(0, typeorm_store_1.OneToMany)(function () { return listingSale_model_1.ListingSale; }, function (e) { return e.listing; })];
        _counterOffers_decorators = [(0, typeorm_store_1.OneToMany)(function () { return counterOffer_model_1.CounterOffer; }, function (e) { return e.listing; })];
        _whitelistedAccounts_decorators = [(0, typeorm_store_1.OneToMany)(function () { return whitelistedAccount_model_1.WhitelistedAccount; }, function (e) { return e.listing; })];
        _highestPrice_decorators = [(0, typeorm_store_1.Index)(), (0, typeorm_store_1.BigIntColumn)({ nullable: false })];
        _deadListing_decorators = [(0, typeorm_store_1.BooleanColumn)({ nullable: true })];
        _isActive_decorators = [(0, typeorm_store_1.Index)(), (0, typeorm_store_1.BooleanColumn)({ nullable: false })];
        _type_decorators = [(0, typeorm_store_1.Index)(), (0, typeorm_store_1.Column)("varchar", { length: 10, nullable: false })];
        _hasRoyaltyIncreased_decorators = [(0, typeorm_store_1.Index)(), (0, typeorm_store_1.BooleanColumn)({ nullable: true })];
        _createdAt_decorators = [(0, typeorm_store_1.Index)(), (0, typeorm_store_1.DateTimeColumn)({ nullable: false })];
        _updatedAt_decorators = [(0, typeorm_store_1.DateTimeColumn)({ nullable: false })];
        __esDecorate(null, null, _id_decorators, { kind: "field", name: "id", static: false, private: false, access: { has: function (obj) { return "id" in obj; }, get: function (obj) { return obj.id; }, set: function (obj, value) { obj.id = value; } }, metadata: _metadata }, _id_initializers, _id_extraInitializers);
        __esDecorate(null, null, _seller_decorators, { kind: "field", name: "seller", static: false, private: false, access: { has: function (obj) { return "seller" in obj; }, get: function (obj) { return obj.seller; }, set: function (obj, value) { obj.seller = value; } }, metadata: _metadata }, _seller_initializers, _seller_extraInitializers);
        __esDecorate(null, null, _makeAssetId_decorators, { kind: "field", name: "makeAssetId", static: false, private: false, access: { has: function (obj) { return "makeAssetId" in obj; }, get: function (obj) { return obj.makeAssetId; }, set: function (obj, value) { obj.makeAssetId = value; } }, metadata: _metadata }, _makeAssetId_initializers, _makeAssetId_extraInitializers);
        __esDecorate(null, null, _takeAssetId_decorators, { kind: "field", name: "takeAssetId", static: false, private: false, access: { has: function (obj) { return "takeAssetId" in obj; }, get: function (obj) { return obj.takeAssetId; }, set: function (obj, value) { obj.takeAssetId = value; } }, metadata: _metadata }, _takeAssetId_initializers, _takeAssetId_extraInitializers);
        __esDecorate(null, null, _amount_decorators, { kind: "field", name: "amount", static: false, private: false, access: { has: function (obj) { return "amount" in obj; }, get: function (obj) { return obj.amount; }, set: function (obj, value) { obj.amount = value; } }, metadata: _metadata }, _amount_initializers, _amount_extraInitializers);
        __esDecorate(null, null, _price_decorators, { kind: "field", name: "price", static: false, private: false, access: { has: function (obj) { return "price" in obj; }, get: function (obj) { return obj.price; }, set: function (obj, value) { obj.price = value; } }, metadata: _metadata }, _price_initializers, _price_extraInitializers);
        __esDecorate(null, null, _minTakeValue_decorators, { kind: "field", name: "minTakeValue", static: false, private: false, access: { has: function (obj) { return "minTakeValue" in obj; }, get: function (obj) { return obj.minTakeValue; }, set: function (obj, value) { obj.minTakeValue = value; } }, metadata: _metadata }, _minTakeValue_initializers, _minTakeValue_extraInitializers);
        __esDecorate(null, null, _feeSide_decorators, { kind: "field", name: "feeSide", static: false, private: false, access: { has: function (obj) { return "feeSide" in obj; }, get: function (obj) { return obj.feeSide; }, set: function (obj, value) { obj.feeSide = value; } }, metadata: _metadata }, _feeSide_initializers, _feeSide_extraInitializers);
        __esDecorate(null, null, _height_decorators, { kind: "field", name: "height", static: false, private: false, access: { has: function (obj) { return "height" in obj; }, get: function (obj) { return obj.height; }, set: function (obj, value) { obj.height = value; } }, metadata: _metadata }, _height_initializers, _height_extraInitializers);
        __esDecorate(null, null, _deposit_decorators, { kind: "field", name: "deposit", static: false, private: false, access: { has: function (obj) { return "deposit" in obj; }, get: function (obj) { return obj.deposit; }, set: function (obj, value) { obj.deposit = value; } }, metadata: _metadata }, _deposit_initializers, _deposit_extraInitializers);
        __esDecorate(null, null, _salt_decorators, { kind: "field", name: "salt", static: false, private: false, access: { has: function (obj) { return "salt" in obj; }, get: function (obj) { return obj.salt; }, set: function (obj, value) { obj.salt = value; } }, metadata: _metadata }, _salt_initializers, _salt_extraInitializers);
        __esDecorate(null, null, _data_decorators, { kind: "field", name: "data", static: false, private: false, access: { has: function (obj) { return "data" in obj; }, get: function (obj) { return obj.data; }, set: function (obj, value) { obj.data = value; } }, metadata: _metadata }, _data_initializers, _data_extraInitializers);
        __esDecorate(null, null, _state_decorators, { kind: "field", name: "state", static: false, private: false, access: { has: function (obj) { return "state" in obj; }, get: function (obj) { return obj.state; }, set: function (obj, value) { obj.state = value; } }, metadata: _metadata }, _state_initializers, _state_extraInitializers);
        __esDecorate(null, null, _startBlock_decorators, { kind: "field", name: "startBlock", static: false, private: false, access: { has: function (obj) { return "startBlock" in obj; }, get: function (obj) { return obj.startBlock; }, set: function (obj, value) { obj.startBlock = value; } }, metadata: _metadata }, _startBlock_initializers, _startBlock_extraInitializers);
        __esDecorate(null, null, _creationBlock_decorators, { kind: "field", name: "creationBlock", static: false, private: false, access: { has: function (obj) { return "creationBlock" in obj; }, get: function (obj) { return obj.creationBlock; }, set: function (obj, value) { obj.creationBlock = value; } }, metadata: _metadata }, _creationBlock_initializers, _creationBlock_extraInitializers);
        __esDecorate(null, null, _usesWhitelist_decorators, { kind: "field", name: "usesWhitelist", static: false, private: false, access: { has: function (obj) { return "usesWhitelist" in obj; }, get: function (obj) { return obj.usesWhitelist; }, set: function (obj, value) { obj.usesWhitelist = value; } }, metadata: _metadata }, _usesWhitelist_initializers, _usesWhitelist_extraInitializers);
        __esDecorate(null, null, _bids_decorators, { kind: "field", name: "bids", static: false, private: false, access: { has: function (obj) { return "bids" in obj; }, get: function (obj) { return obj.bids; }, set: function (obj, value) { obj.bids = value; } }, metadata: _metadata }, _bids_initializers, _bids_extraInitializers);
        __esDecorate(null, null, _status_decorators, { kind: "field", name: "status", static: false, private: false, access: { has: function (obj) { return "status" in obj; }, get: function (obj) { return obj.status; }, set: function (obj, value) { obj.status = value; } }, metadata: _metadata }, _status_initializers, _status_extraInitializers);
        __esDecorate(null, null, _sales_decorators, { kind: "field", name: "sales", static: false, private: false, access: { has: function (obj) { return "sales" in obj; }, get: function (obj) { return obj.sales; }, set: function (obj, value) { obj.sales = value; } }, metadata: _metadata }, _sales_initializers, _sales_extraInitializers);
        __esDecorate(null, null, _counterOffers_decorators, { kind: "field", name: "counterOffers", static: false, private: false, access: { has: function (obj) { return "counterOffers" in obj; }, get: function (obj) { return obj.counterOffers; }, set: function (obj, value) { obj.counterOffers = value; } }, metadata: _metadata }, _counterOffers_initializers, _counterOffers_extraInitializers);
        __esDecorate(null, null, _whitelistedAccounts_decorators, { kind: "field", name: "whitelistedAccounts", static: false, private: false, access: { has: function (obj) { return "whitelistedAccounts" in obj; }, get: function (obj) { return obj.whitelistedAccounts; }, set: function (obj, value) { obj.whitelistedAccounts = value; } }, metadata: _metadata }, _whitelistedAccounts_initializers, _whitelistedAccounts_extraInitializers);
        __esDecorate(null, null, _highestPrice_decorators, { kind: "field", name: "highestPrice", static: false, private: false, access: { has: function (obj) { return "highestPrice" in obj; }, get: function (obj) { return obj.highestPrice; }, set: function (obj, value) { obj.highestPrice = value; } }, metadata: _metadata }, _highestPrice_initializers, _highestPrice_extraInitializers);
        __esDecorate(null, null, _deadListing_decorators, { kind: "field", name: "deadListing", static: false, private: false, access: { has: function (obj) { return "deadListing" in obj; }, get: function (obj) { return obj.deadListing; }, set: function (obj, value) { obj.deadListing = value; } }, metadata: _metadata }, _deadListing_initializers, _deadListing_extraInitializers);
        __esDecorate(null, null, _isActive_decorators, { kind: "field", name: "isActive", static: false, private: false, access: { has: function (obj) { return "isActive" in obj; }, get: function (obj) { return obj.isActive; }, set: function (obj, value) { obj.isActive = value; } }, metadata: _metadata }, _isActive_initializers, _isActive_extraInitializers);
        __esDecorate(null, null, _type_decorators, { kind: "field", name: "type", static: false, private: false, access: { has: function (obj) { return "type" in obj; }, get: function (obj) { return obj.type; }, set: function (obj, value) { obj.type = value; } }, metadata: _metadata }, _type_initializers, _type_extraInitializers);
        __esDecorate(null, null, _hasRoyaltyIncreased_decorators, { kind: "field", name: "hasRoyaltyIncreased", static: false, private: false, access: { has: function (obj) { return "hasRoyaltyIncreased" in obj; }, get: function (obj) { return obj.hasRoyaltyIncreased; }, set: function (obj, value) { obj.hasRoyaltyIncreased = value; } }, metadata: _metadata }, _hasRoyaltyIncreased_initializers, _hasRoyaltyIncreased_extraInitializers);
        __esDecorate(null, null, _createdAt_decorators, { kind: "field", name: "createdAt", static: false, private: false, access: { has: function (obj) { return "createdAt" in obj; }, get: function (obj) { return obj.createdAt; }, set: function (obj, value) { obj.createdAt = value; } }, metadata: _metadata }, _createdAt_initializers, _createdAt_extraInitializers);
        __esDecorate(null, null, _updatedAt_decorators, { kind: "field", name: "updatedAt", static: false, private: false, access: { has: function (obj) { return "updatedAt" in obj; }, get: function (obj) { return obj.updatedAt; }, set: function (obj, value) { obj.updatedAt = value; } }, metadata: _metadata }, _updatedAt_initializers, _updatedAt_extraInitializers);
        __esDecorate(null, _classDescriptor = { value: _classThis }, _classDecorators, { kind: "class", name: _classThis.name, metadata: _metadata }, null, _classExtraInitializers);
        Listing = _classThis = _classDescriptor.value;
        if (_metadata) Object.defineProperty(_classThis, Symbol.metadata, { enumerable: true, configurable: true, writable: true, value: _metadata });
        __runInitializers(_classThis, _classExtraInitializers);
    })();
    return Listing = _classThis;
}();
exports.Listing = Listing;
